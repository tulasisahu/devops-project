pipeline {
    agent { lebel 'jenkin-agent' }
    tools {
        jdk 'java17"
       maven 'maven3'
       }
   stages { 
        stage ('cleanup-workpace'){
        steps {
         cleanws()
        }
   }
      stage ('checkout from SCM' ){
      steps {
          git branch: 'main' , credentialsId: 'github' , url: 'https://github.com/tulasisahu/devops-project.git'
            }
     
       }
      stage ('Build Application') {
        steps {
             sh "mvn clean package"
             }

     }
      stage ('test Application') {
        steps {
             sh "mvn test"
          }
   }
 }
}


